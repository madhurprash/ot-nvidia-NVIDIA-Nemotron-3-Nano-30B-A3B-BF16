Get:1 http://archive.ubuntu.com/ubuntu noble InRelease [256 kB]
Get:2 http://security.ubuntu.com/ubuntu noble-security InRelease [126 kB]
Get:3 http://security.ubuntu.com/ubuntu noble-security/restricted amd64 Packages [2905 kB]
Get:4 http://archive.ubuntu.com/ubuntu noble-updates InRelease [126 kB]
Get:5 http://archive.ubuntu.com/ubuntu noble-backports InRelease [126 kB]
Get:6 http://archive.ubuntu.com/ubuntu noble/main amd64 Packages [1808 kB]
Get:7 http://security.ubuntu.com/ubuntu noble-security/multiverse amd64 Packages [33.1 kB]
Get:8 http://security.ubuntu.com/ubuntu noble-security/universe amd64 Packages [1188 kB]
Get:9 http://archive.ubuntu.com/ubuntu noble/universe amd64 Packages [19.3 MB]
Get:10 http://security.ubuntu.com/ubuntu noble-security/main amd64 Packages [1762 kB]
Get:11 http://archive.ubuntu.com/ubuntu noble/multiverse amd64 Packages [331 kB]
Get:12 http://archive.ubuntu.com/ubuntu noble/restricted amd64 Packages [117 kB]
Get:13 http://archive.ubuntu.com/ubuntu noble-updates/restricted amd64 Packages [3064 kB]
Get:14 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages [2137 kB]
Get:15 http://archive.ubuntu.com/ubuntu noble-updates/universe amd64 Packages [1955 kB]
Get:16 http://archive.ubuntu.com/ubuntu noble-updates/multiverse amd64 Packages [35.9 kB]
Get:17 http://archive.ubuntu.com/ubuntu noble-backports/universe amd64 Packages [34.6 kB]
Get:18 http://archive.ubuntu.com/ubuntu noble-backports/main amd64 Packages [49.5 kB]
Fetched 35.4 MB in 3s (13.3 MB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
curl is already the newest version (8.5.0-2ubuntu10.6).
0 upgraded, 0 newly installed, 0 to remove and 29 not upgraded.
no checksums to verify
installing to /root/.local/bin
  uv
  uvx
everything's installed!

To add $HOME/.local/bin to your PATH, either restart your shell or run:

    source $HOME/.local/bin/env (sh, bash, zsh)
    source $HOME/.local/bin/env.fish (fish)
============================= test session starts ==============================
platform linux -- Python 3.13.9, pytest-8.3.4, pluggy-1.6.0
rootdir: /tests
plugins: json-ctrf-0.3.5
collected 6 items

test_outputs.py FFF..F                                                   [100%]

=================================== FAILURES ===================================
_________________________ test_rstan_package_installed _________________________

    def test_rstan_package_installed():
        """Test that RStan package is properly installed."""
        try:
            result = subprocess.run(
                ["R", "--slave", "-e", "library(rstan); packageVersion('rstan')"],
                capture_output=True,
                text=True,
                timeout=60,
            )
    
>           assert result.returncode == 0, (
                f"RStan package is not properly installed. Return code: "
                f"{result.returncode}, stderr: {result.stderr}"
            )
E           AssertionError: RStan package is not properly installed. Return code: 1, stderr: Error in library(rstan) : there is no package called ‘rstan’
E             Execution halted
E             
E           assert 1 == 0
E            +  where 1 = CompletedProcess(args=['R', '--slave', '-e', "library(rstan); packageVersion('rstan')"], returncode=1, stdout='', stderr='Error in library(rstan) : there is no package called ‘rstan’\nExecution halted\n').returncode

test_outputs.py:18: AssertionError
_____________________ test_hierarchical_model_implemented ______________________

    def test_hierarchical_model_implemented():
        """Test that hierarchical Bayesian model structure is implemented"""
        stan_model_path = "/app/hierarchical_model.stan"
>       assert os.path.exists(stan_model_path), (
            f"Stan model file not found at {stan_model_path}"
        )
E       AssertionError: Stan model file not found at /app/hierarchical_model.stan
E       assert False
E        +  where False = <function exists at 0x7e30376a7240>('/app/hierarchical_model.stan')
E        +    where <function exists at 0x7e30376a7240> = <module 'posixpath' (frozen)>.exists
E        +      where <module 'posixpath' (frozen)> = os.path

test_outputs.py:32: AssertionError
_____________________ test_r_script_created_and_used_rstan _____________________

    def test_r_script_created_and_used_rstan():
        """Test that R script 'analysis.R' was created and uses RStan"""
        r_script_path = "/app/analysis.R"
>       assert os.path.exists(r_script_path), (
            f"R analysis script not found at {r_script_path}"
        )
E       AssertionError: R analysis script not found at /app/analysis.R
E       assert False
E        +  where False = <function exists at 0x7e30376a7240>('/app/analysis.R')
E        +    where <function exists at 0x7e30376a7240> = <module 'posixpath' (frozen)>.exists
E        +      where <module 'posixpath' (frozen)> = os.path

test_outputs.py:60: AssertionError
___________________________ test_stan_model_sampling ___________________________

    def test_stan_model_sampling():
        """Test that MCMC sampling runs successfully."""
        # Run analysis.R and capture all output to check
        # if the stan model sampling runs successfully
        r_script_path = "/app/analysis.R"
        if not os.path.exists(r_script_path):
>           assert False, f"R analysis script not found at {r_script_path}"
E           AssertionError: R analysis script not found at /app/analysis.R
E           assert False

test_outputs.py:147: AssertionError
==================================== PASSES ====================================
=========================== short test summary info ============================
PASSED test_outputs.py::test_posterior_alpha_estimation
PASSED test_outputs.py::test_posterior_beta_estimation
FAILED test_outputs.py::test_rstan_package_installed - AssertionError: RStan ...
FAILED test_outputs.py::test_hierarchical_model_implemented - AssertionError:...
FAILED test_outputs.py::test_r_script_created_and_used_rstan - AssertionError...
FAILED test_outputs.py::test_stan_model_sampling - AssertionError: R analysis...
========================= 4 failed, 2 passed in 0.23s ==========================
