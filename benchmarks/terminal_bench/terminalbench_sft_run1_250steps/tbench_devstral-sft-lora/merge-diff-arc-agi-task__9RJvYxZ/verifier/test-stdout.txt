Hit:1 http://archive.ubuntu.com/ubuntu noble InRelease
Hit:2 http://security.ubuntu.com/ubuntu noble-security InRelease
Hit:3 http://archive.ubuntu.com/ubuntu noble-updates InRelease
Hit:4 http://archive.ubuntu.com/ubuntu noble-backports InRelease
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
git is already the newest version (1:2.43.0-1ubuntu7.3).
The following NEW packages will be installed:
  curl libcurl4t64
0 upgraded, 2 newly installed, 0 to remove and 10 not upgraded.
Need to get 567 kB of archives.
After this operation, 1481 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 libcurl4t64 amd64 8.5.0-2ubuntu10.6 [341 kB]
Get:2 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 curl amd64 8.5.0-2ubuntu10.6 [226 kB]
Fetched 567 kB in 1s (382 kB/s)
Selecting previously unselected package libcurl4t64:amd64.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 10850 files and directories currently installed.)
Preparing to unpack .../libcurl4t64_8.5.0-2ubuntu10.6_amd64.deb ...
Unpacking libcurl4t64:amd64 (8.5.0-2ubuntu10.6) ...
Selecting previously unselected package curl.
Preparing to unpack .../curl_8.5.0-2ubuntu10.6_amd64.deb ...
Unpacking curl (8.5.0-2ubuntu10.6) ...
Setting up libcurl4t64:amd64 (8.5.0-2ubuntu10.6) ...
Setting up curl (8.5.0-2ubuntu10.6) ...
Processing triggers for libc-bin (2.39-0ubuntu8.6) ...
no checksums to verify
installing to /root/.local/bin
  uv
  uvx
everything's installed!

To add $HOME/.local/bin to your PATH, either restart your shell or run:

    source $HOME/.local/bin/env (sh, bash, zsh)
    source $HOME/.local/bin/env.fish (fish)
============================= test session starts ==============================
platform linux -- Python 3.13.9, pytest-8.4.1, pluggy-1.6.0
rootdir: /tests
plugins: json-ctrf-0.3.5
collected 5 items

../tests/test_outputs.py ....F                                           [100%]

=================================== FAILURES ===================================
____________________ test_algo_map_function_with_test_input ____________________

    def test_algo_map_function_with_test_input():
        """Test that the map function works correctly with examples.json"""
        algo_path = Path("/app/repo/algo.py")
        test_path = Path("/tests/test.json")
    
        # Import algo module
        spec = importlib.util.spec_from_file_location("algo", algo_path)
        algo_module = importlib.util.module_from_spec(spec)
        sys.modules["algo"] = algo_module
        spec.loader.exec_module(algo_module)
    
        # Load examples
        with open(test_path, "r") as f:
            examples = json.load(f)
    
        # Test each example
        for i, example in enumerate(examples):
            input_grid = example["input"]
            expected = example["output"]
    
            actual = algo_module.map(input_grid)
    
            assert isinstance(actual, list)
            assert len(actual) == len(expected)
    
            for row_idx, (actual_row, expected_row) in enumerate(zip(actual, expected)):
                assert isinstance(actual_row, list)
                assert len(actual_row) == len(expected_row)
    
                for col_idx, (a_val, e_val) in enumerate(zip(actual_row, expected_row)):
>                   assert a_val == e_val, (
                        f"Example {i}, position ({row_idx}, {col_idx}): "
                        f"Expected {e_val}, got {a_val}"
                    )
E                   AssertionError: Example 1, position (0, 0): Expected 2, got 8
E                   assert 8 == 2

/tests/test_outputs.py:82: AssertionError
==================================== PASSES ====================================
=========================== short test summary info ============================
PASSED ../tests/test_outputs.py::test_git_repo_init
PASSED ../tests/test_outputs.py::test_both_bundles_fetched
PASSED ../tests/test_outputs.py::test_algo_py_exists
PASSED ../tests/test_outputs.py::test_algo_py_has_map_function
FAILED ../tests/test_outputs.py::test_algo_map_function_with_test_input - Ass...
========================= 1 failed, 4 passed in 0.09s ==========================
